<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2022-2024 ì‚°ë¶ˆ ë°ì´í„° ì¸í„°ë™í‹°ë¸Œ ëŒ€ì‹œë³´ë“œ</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Pretendard', sans-serif; background-color: #f3f4f6; }
        .tab-active { border-bottom: 3px solid #ef4444; color: #ef4444; font-weight: 700; }
        .glass-card { background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(10px); }
        .animate-in { animation: fadeIn 0.5s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="antialiased">

    <div class="min-h-screen flex flex-col">
        <!-- ìƒë‹¨ í—¤ë” -->
        <header class="bg-slate-900 text-white p-6 shadow-xl sticky top-0 z-50">
            <div class="max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4">
                <div class="flex items-center gap-4 mb-4 md:mb-0">
                    <!-- í™ˆìœ¼ë¡œ ë²„íŠ¼ (ì™¼ìª½ ë°°ì¹˜) -->
                    <a href="index.html" class="flex items-center justify-center w-10 h-10 rounded-full bg-slate-800 hover:bg-red-600 transition-colors border border-slate-700 group" title="í™ˆìœ¼ë¡œ ì´ë™">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-slate-300 group-hover:text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                        </svg>
                    </a>
                    <div>
                        <h1 class="text-2xl font-extrabold flex items-center">
                            <span class="text-red-500 mr-2">ğŸ”¥</span> ì‚°ë¶ˆ ë°ì´í„° ì¸í„°ë™í‹°ë¸Œ ë¶„ì„
                        </h1>
                        <p class="text-slate-400 text-sm">2022ë…„ - 2024ë…„ ê³µì‹ í†µê³„ ê¸°ë°˜</p>
                    </div>
                </div>
                
                <!-- ì—°ë„ ì„ íƒ í•„í„° -->
                <div class="flex bg-slate-800 p-1 rounded-lg">
                    <button onclick="updateYear('2022')" id="btn-2022" class="px-6 py-2 rounded-md transition-all year-btn bg-red-600 text-white font-bold">2022</button>
                    <button onclick="updateYear('2023')" id="btn-2023" class="px-6 py-2 rounded-md transition-all year-btn text-slate-300 hover:text-white">2023</button>
                    <button onclick="updateYear('2024')" id="btn-2024" class="px-6 py-2 rounded-md transition-all year-btn text-slate-300 hover:text-white">2024</button>
                </div>
            </div>
        </header>

        <!-- ë©”ì¸ ì½˜í…ì¸  -->
        <main class="flex-grow p-4 md:p-8 max-w-7xl mx-auto w-full">
            
            <!-- ì‹¤ì‹œê°„ ìš”ì•½ ì¹´ë“œ -->
            <section class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                <div class="glass-card p-6 rounded-2xl shadow-sm border border-slate-200 animate-in">
                    <p class="text-slate-500 text-sm font-semibold">ë°œìƒ ê±´ìˆ˜</p>
                    <h2 id="stat-count" class="text-3xl font-black mt-1">756ê±´</h2>
                    <p id="stat-count-diff" class="text-xs font-medium text-red-500 mt-2">í‰ê·  ëŒ€ë¹„ +219ê±´</p>
                </div>
                <div class="glass-card p-6 rounded-2xl shadow-sm border border-slate-200 animate-in" style="animation-delay: 0.1s;">
                    <p class="text-slate-500 text-sm font-semibold">í”¼í•´ ë©´ì </p>
                    <h2 id="stat-area" class="text-3xl font-black mt-1 text-red-600">24,797 ha</h2>
                    <p id="stat-area-diff" class="text-xs font-medium text-red-500 mt-2">í‰ê·  ëŒ€ë¹„ +21,237 ha</p>
                </div>
                <div class="glass-card p-6 rounded-2xl shadow-sm border border-slate-200 animate-in" style="animation-delay: 0.2s;">
                    <p class="text-slate-500 text-sm font-semibold">ì¸ëª… í”¼í•´ (ì‚¬ë§/ë¶€ìƒ)</p>
                    <h2 id="stat-casualty" class="text-3xl font-black mt-1">8ëª…</h2>
                    <p class="text-xs text-slate-400 mt-2">10ë…„ í‰ê·  ê¸°ì¤€ì¹˜ ìƒíšŒ</p>
                </div>
                <div class="glass-card p-6 rounded-2xl shadow-sm border border-slate-200 animate-in" style="animation-delay: 0.3s;">
                    <p class="text-slate-500 text-sm font-semibold">ì£¼ìš” ì›ì¸</p>
                    <h2 id="stat-cause" class="text-2xl font-black mt-1 text-orange-600">ì…ì‚°ì ì‹¤í™”</h2>
                    <p class="text-xs text-slate-400 mt-2">ì „ì²´ ë°œìƒì˜ ì•½ 33%</p>
                </div>
            </section>

            <!-- ë©”ì¸ ì¸í„°ë™í‹°ë¸Œ ì°¨íŠ¸ êµ¬ì—­ -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                
                <!-- ì™¼ìª½: ì›ì¸ë³„ ìƒì„¸ (íŒŒì´ì°¨íŠ¸) -->
                <div class="lg:col-span-1 bg-white p-6 rounded-2xl shadow-lg border border-slate-100">
                    <h3 class="font-bold text-slate-800 mb-6 flex items-center">
                        <span class="w-2 h-2 bg-red-500 rounded-full mr-2"></span> ì›ì¸ë³„ ë¶„ì„
                    </h3>
                    <div class="relative h-64">
                        <canvas id="causeDonutChart"></canvas>
                    </div>
                    <div id="cause-list" class="mt-6 space-y-3">
                        <!-- ì›ì¸ ë¦¬ìŠ¤íŠ¸ê°€ ë™ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë¨ -->
                    </div>
                </div>

                <!-- ì˜¤ë¥¸ìª½: ì§€ì—­ë³„ í˜„í™© (ë§‰ëŒ€ì°¨íŠ¸) -->
                <div class="lg:col-span-2 bg-white p-6 rounded-2xl shadow-lg border border-slate-100">
                    <h3 class="font-bold text-slate-800 mb-6 flex items-center justify-between">
                        <span><span class="w-2 h-2 bg-blue-500 rounded-full mr-2"></span> ì§€ì—­ë³„ ë°œìƒ í˜„í™©</span>
                        <span class="text-xs text-slate-400 font-normal">ë°œìƒ ê±´ìˆ˜(ê±´)</span>
                    </h3>
                    <div class="relative h-96">
                        <canvas id="regionBarChart"></canvas>
                    </div>
                </div>

            </div>

            <!-- í•˜ë‹¨ ì„¹ì…˜: ê³„ì ˆë³„ íŠ¸ë Œë“œ -->
            <section class="mt-8 bg-white p-8 rounded-2xl shadow-lg border border-slate-100">
                <div class="flex items-center justify-between mb-8">
                    <h3 class="font-bold text-xl text-slate-800">ê³„ì ˆë³„ ë°œìƒ íŠ¸ë Œë“œ ë¶„ì„</h3>
                    <div class="text-sm font-semibold px-4 py-1 bg-slate-100 rounded-full text-slate-600">
                        ì„ íƒ ì—°ë„: <span id="current-year-display" class="text-red-500">2022</span>
                    </div>
                </div>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                    <div class="text-center p-4 rounded-xl bg-orange-50 border border-orange-100">
                        <p class="text-orange-600 text-sm font-bold">ë´„ (3-5ì›”)</p>
                        <h4 id="season-spring" class="text-3xl font-black text-orange-700">377ê±´</h4>
                    </div>
                    <div class="text-center p-4 rounded-xl bg-green-50 border border-green-100">
                        <p class="text-green-600 text-sm font-bold">ì—¬ë¦„ (6-8ì›”)</p>
                        <h4 id="season-summer" class="text-3xl font-black text-green-700">29ê±´</h4>
                    </div>
                    <div class="text-center p-4 rounded-xl bg-yellow-50 border border-yellow-100">
                        <p class="text-yellow-600 text-sm font-bold">ê°€ì„ (9-11ì›”)</p>
                        <h4 id="season-fall" class="text-3xl font-black text-yellow-700">82ê±´</h4>
                    </div>
                    <div class="text-center p-4 rounded-xl bg-blue-50 border border-blue-100">
                        <p class="text-blue-600 text-sm font-bold">ê²¨ìš¸ (12-2ì›”)</p>
                        <h4 id="season-winter" class="text-3xl font-black text-blue-700">268ê±´</h4>
                    </div>
                </div>
            </section>
        </main>

        <footer class="bg-slate-900 text-slate-500 py-8 px-6 text-center text-sm border-t border-slate-800">
            ë³¸ ëŒ€ì‹œë³´ë“œëŠ” 2022-2024ë…„ ì‚°ë¶ˆ í†µê³„ ë³´ê³ ì„œì˜ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‹œê°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.
        </footer>
    </div>

    <script>
        const wildfireData = {
            '2022': {
                count: 756, area: 24797, casualty: '8 (1/7)', diffCount: '+219', diffArea: '+21,237',
                causes: { 'ì…ì‚°ì ì‹¤í™”': 253, 'ë…¼ë°­ ì†Œê°': 44, 'ì“°ë ˆê¸° ì†Œê°': 59, 'ë‹´ë±ƒë¶ˆ': 53, 'ê¸°íƒ€': 347 },
                regions: { 'ê²½ê¸°ë„': 143, 'ê°•ì›': 70, 'ê²½ë¶': 111, 'ê²½ë‚¨': 98, 'ì¶©ë‚¨': 63, 'ì „ë‚¨': 55, 'ëŒ€êµ¬': 24 },
                seasons: [377, 29, 82, 268]
            },
            '2023': {
                count: 596, area: 4992, casualty: '19 (3/16)', diffCount: '+29', diffArea: '+988',
                causes: { 'ì…ì‚°ì ì‹¤í™”': 170, 'ë…¼ë°­ ì†Œê°': 56, 'ì“°ë ˆê¸° ì†Œê°': 73, 'ë‹´ë±ƒë¶ˆ': 56, 'ê¸°íƒ€': 241 },
                regions: { 'ê²½ê¸°ë„': 101, 'ê°•ì›': 55, 'ê²½ë¶': 66, 'ê²½ë‚¨': 58, 'ì¶©ë‚¨': 76, 'ì „ë‚¨': 53, 'ëŒ€êµ¬': 8 },
                seasons: [370, 12, 40, 174]
            },
            '2024': {
                count: 279, area: 132, casualty: '2 (0/2)', diffCount: '-267', diffArea: '-3,871',
                causes: { 'ì…ì‚°ì ì‹¤í™”': 49, 'ë…¼ë°­ ì†Œê°': 24, 'ì“°ë ˆê¸° ì†Œê°': 28, 'ë‹´ë±ƒë¶ˆ': 36, 'ê¸°íƒ€': 142 },
                regions: { 'ê²½ê¸°ë„': 82, 'ê°•ì›': 26, 'ê²½ë¶': 31, 'ê²½ë‚¨': 16, 'ì¶©ë‚¨': 35, 'ì „ë‚¨': 16, 'ëŒ€êµ¬': 9 },
                seasons: [158, 35, 26, 60]
            }
        };

        let currentYear = '2022';
        let causeChart, regionChart;

        function initCharts() {
            const causeCtx = document.getElementById('causeDonutChart').getContext('2d');
            causeChart = new Chart(causeCtx, {
                type: 'doughnut',
                data: {
                    labels: Object.keys(wildfireData[currentYear].causes),
                    datasets: [{
                        data: Object.values(wildfireData[currentYear].causes),
                        backgroundColor: ['#ef4444', '#f97316', '#facc15', '#3b82f6', '#94a3b8'],
                        borderWidth: 0,
                        hoverOffset: 10
                    }]
                },
                options: {
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    cutout: '70%'
                }
            });

            const regionCtx = document.getElementById('regionBarChart').getContext('2d');
            regionChart = new Chart(regionCtx, {
                type: 'bar',
                data: {
                    labels: Object.keys(wildfireData[currentYear].regions),
                    datasets: [{
                        label: 'ë°œìƒ ê±´ìˆ˜',
                        data: Object.values(wildfireData[currentYear].regions),
                        backgroundColor: '#3b82f6',
                        borderRadius: 6
                    }]
                },
                options: {
                    maintainAspectRatio: false,
                    scales: {
                        y: { beginAtZero: true, grid: { display: false } },
                        x: { grid: { display: false } }
                    }
                }
            });

            updateCauseList();
        }

        function updateYear(year) {
            currentYear = year;
            
            document.querySelectorAll('.year-btn').forEach(btn => {
                btn.classList.remove('bg-red-600', 'text-white', 'font-bold');
                btn.classList.add('text-slate-300');
            });
            const activeBtn = document.getElementById(`btn-${year}`);
            activeBtn.classList.remove('text-slate-300');
            activeBtn.classList.add('bg-red-600', 'text-white', 'font-bold');

            const data = wildfireData[year];
            document.getElementById('stat-count').innerText = data.count + 'ê±´';
            document.getElementById('stat-area').innerText = data.area.toLocaleString() + ' ha';
            document.getElementById('stat-casualty').innerText = data.casualty + 'ëª…';
            document.getElementById('stat-count-diff').innerText = `í‰ê·  ëŒ€ë¹„ ${data.diffCount}ê±´`;
            document.getElementById('stat-area-diff').innerText = `í‰ê·  ëŒ€ë¹„ ${data.diffArea} ha`;
            document.getElementById('current-year-display').innerText = year;

            document.getElementById('stat-count-diff').className = data.diffCount.startsWith('+') ? 'text-xs font-medium text-red-500 mt-2' : 'text-xs font-medium text-blue-500 mt-2';
            document.getElementById('stat-area-diff').className = data.diffArea.startsWith('+') ? 'text-xs font-medium text-red-500 mt-2' : 'text-xs font-medium text-blue-500 mt-2';

            document.getElementById('season-spring').innerText = data.seasons[0] + 'ê±´';
            document.getElementById('season-summer').innerText = data.seasons[1] + 'ê±´';
            document.getElementById('season-fall').innerText = data.seasons[2] + 'ê±´';
            document.getElementById('season-winter').innerText = data.seasons[3] + 'ê±´';

            causeChart.data.labels = Object.keys(data.causes);
            causeChart.data.datasets[0].data = Object.values(data.causes);
            causeChart.update();

            regionChart.data.labels = Object.keys(data.regions);
            regionChart.data.datasets[0].data = Object.values(data.regions);
            regionChart.update();

            updateCauseList();
        }

        function updateCauseList() {
            const list = document.getElementById('cause-list');
            const causes = wildfireData[currentYear].causes;
            const colors = ['#ef4444', '#f97316', '#facc15', '#3b82f6', '#94a3b8'];
            
            list.innerHTML = '';
            Object.entries(causes).forEach(([name, val], i) => {
                const total = Object.values(causes).reduce((a, b) => a + b, 0);
                const percent = Math.round((val / total) * 100);
                list.innerHTML += `
                    <div class="flex items-center justify-between">
                        <div class="flex items-center text-sm font-medium text-slate-600">
                            <span class="w-3 h-3 rounded-full mr-2" style="background: ${colors[i]}"></span>
                            ${name}
                        </div>
                        <div class="text-sm font-bold text-slate-800">${val}ê±´ (${percent}%)</div>
                    </div>
                `;
            });
        }

        window.onload = initCharts;
    </script>
</body>
</html>
